Index: .env
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># In all environments, the following files are loaded if they exist,\r\n# the latter taking precedence over the former:\r\n#\r\n#  * .env                contains default values for the environment variables needed by the app\r\n#  * .env.local          uncommitted file with local overrides\r\n#  * .env.$APP_ENV       committed environment-specific defaults\r\n#  * .env.$APP_ENV.local uncommitted environment-specific overrides\r\n#\r\n# Real environment variables win over .env files.\r\n#\r\n# DO NOT DEFINE PRODUCTION SECRETS IN THIS FILE NOR IN ANY OTHER COMMITTED FILES.\r\n#\r\n# Run \"composer dump-env prod\" to compile .env files for production use (requires symfony/flex >=1.2).\r\n# https://symfony.com/doc/current/best_practices.html#use-environment-variables-for-infrastructure-configuration\r\n\r\n###> symfony/framework-bundle ###\r\nAPP_ENV=dev\r\nAPP_SECRET=44c5717b8e2f84d9893d6753732fdabf\r\n###< symfony/framework-bundle ###\r\n\r\n###> symfony/mailer ###\r\n# MAILER_DSN=smtp://localhost\r\n###< symfony/mailer ###\r\n\r\n###> doctrine/doctrine-bundle ###\r\n# Format described at https://www.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/configuration.html#connecting-using-a-url\r\n# IMPORTANT: You MUST configure your server version, either here or in config/packages/doctrine.yaml\r\n#\r\n# DATABASE_URL=\"sqlite:///%kernel.project_dir%/var/data.db\"\r\nDATABASE_URL=\"mysql://root:password@127.0.0.1:3306/gastronhome\"\r\n# DATABASE_URL=\"postgresql://db_user:db_password@127.0.0.1:5432/db_name?serverVersion=13&charset=utf8\"\r\n###< doctrine/doctrine-bundle ###\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.env b/.env
--- a/.env	(revision d15fbfa0b4a5f57f09e466b98b363d37faa17166)
+++ b/.env	(date 1614705442016)
@@ -27,6 +27,6 @@
 # IMPORTANT: You MUST configure your server version, either here or in config/packages/doctrine.yaml
 #
 # DATABASE_URL="sqlite:///%kernel.project_dir%/var/data.db"
-DATABASE_URL="mysql://root:password@127.0.0.1:3306/gastronhome"
+DATABASE_URL="mysql://root:@127.0.0.1:3306/gastronhome"
 # DATABASE_URL="postgresql://db_user:db_password@127.0.0.1:5432/db_name?serverVersion=13&charset=utf8"
 ###< doctrine/doctrine-bundle ###
Index: templates/accueil_restaurant/liste_commande.html.twig
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/templates/accueil_restaurant/liste_commande.html.twig b/templates/accueil_restaurant/liste_commande.html.twig
new file mode 100644
--- /dev/null	(date 1614705442021)
+++ b/templates/accueil_restaurant/liste_commande.html.twig	(date 1614705442021)
@@ -0,0 +1,41 @@
+{% extends 'base.html.twig' %}
+
+{% block title %}Hello AccueilRestaurantController!{% endblock %}
+
+{% block body %}
+<style>
+    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
+    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
+</style>
+
+{% if commandes is not empty %}
+        <table class="table table-hover offset-2 col-8 mt-5">
+            <thead>
+            <tr class="text-center">
+                <td>Commandes</td>
+                        <th>Client</th>
+                        <th>Description</th>
+                        <th>Prix total</th>
+                        <th>Date de la commande</th>
+                        <th>Status</th>
+                        <th>Action</th>
+            </tr>
+            </thead>
+            <tbody>
+            {% for commande in commandes %}
+                <tr class="text-center">
+                    <td>{{ commande.totalPrice}}</td>
+                    <td>{{ commande.totalPrice }}</td>
+                    <td>{{ commande.totalPrice }}</td>
+                    <td>{{ commande.heureCommande | date("d/m/Y h:i:s", "Europe/Paris") }}</td>
+                    <td>{{ commande.status }}</td>
+                </tr>
+            {% endfor %}
+
+            </tbody>
+        </table>
+    {% else %}
+        <h2 class="text-center">Vous n'avez pas de commande</h2>
+    {% endif %}
+
+{% endblock %}
\ No newline at end of file
Index: src/Controller/AccueilRestaurantController.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nnamespace App\\Controller;\r\n\r\nuse Symfony\\Bundle\\FrameworkBundle\\Controller\\AbstractController;\r\nuse Symfony\\Component\\HttpFoundation\\Response;\r\nuse Symfony\\Component\\Routing\\Annotation\\Route;\r\n\r\nclass AccueilRestaurantController extends AbstractController\r\n{\r\n    /**\r\n     * @Route(\"/restaurant/accueil\", name=\"restaurant\")\r\n     */\r\n    public function index(): Response\r\n    {\r\n        return $this->render('accueil_restaurant/index.html.twig', [\r\n            'controller_name' => 'AccueilRestaurantController',\r\n        ]);\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/Controller/AccueilRestaurantController.php b/src/Controller/AccueilRestaurantController.php
--- a/src/Controller/AccueilRestaurantController.php	(revision d15fbfa0b4a5f57f09e466b98b363d37faa17166)
+++ b/src/Controller/AccueilRestaurantController.php	(date 1614712566476)
@@ -5,7 +5,10 @@
 use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
 use Symfony\Component\HttpFoundation\Response;
 use Symfony\Component\Routing\Annotation\Route;
-
+use App\Entity\Commande;
+use App\Entity\User;
+use App\Entity\Plats;
+use App\Entity\Restaurant;
 class AccueilRestaurantController extends AbstractController
 {
     /**
@@ -13,8 +16,24 @@
      */
     public function index(): Response
     {
-        return $this->render('accueil_restaurant/index.html.twig', [
-            'controller_name' => 'AccueilRestaurantController',
-        ]);
-    }
+    $restaurant = $this->getDoctrine()->getRepository(Restaurant::class);
+
+
+       return $this->render('accueil_restaurant/index.html.twig', [
+         'controller_name' => 'AccueilRestaurantController',
+         'restaurant' => $restaurant
+                ]);
+    }
+
+       /**
+         * @Route("/restaurant/listeCommande", name="listeCommande")
+         */
+        public function ListeCommande(): Response
+        {
+            $commande = $this->getDoctrine()->getRepository(commande::class)->findAll();
+
+             return $this->render('accueil_restaurant/liste_commande.html.twig', [
+                'commandes' => $commande,
+            ]);
+        }
 }
Index: src/Entity/Commande.php
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?php\r\n\r\nnamespace App\\Entity;\r\n\r\nuse App\\Repository\\CommandeRepository;\r\nuse Doctrine\\Common\\Collections\\ArrayCollection;\r\nuse Doctrine\\Common\\Collections\\Collection;\r\nuse Doctrine\\ORM\\Mapping as ORM;\r\n\r\n/**\r\n * @ORM\\Entity(repositoryClass=CommandeRepository::class)\r\n */\r\nclass Commande\r\n{\r\n    public function __toString()\r\n    {\r\n        return $this->status;\r\n    }\r\n\r\n    /**\r\n     * @ORM\\Id\r\n     * @ORM\\GeneratedValue\r\n     * @ORM\\Column(type=\"integer\")\r\n     */\r\n    private $id;\r\n\r\n    /**\r\n     * @ORM\\Column(type=\"datetime\")\r\n     */\r\n    private $heureCommande;\r\n\r\n    /**\r\n     * @ORM\\Column(type=\"string\", length=30)\r\n     */\r\n    private $status;\r\n\r\n    /**\r\n     * @ORM\\Column(type=\"float\")\r\n     */\r\n    private $totalPrice;\r\n\r\n    /**\r\n     * @ORM\\ManyToOne(targetEntity=Restaurant::class, inversedBy=\"commandes\")\r\n     * @ORM\\JoinColumn(nullable=false)\r\n     */\r\n    private $restaurant;\r\n\r\n    /**\r\n     * @ORM\\ManyToOne(targetEntity=User::class, inversedBy=\"commande\")\r\n     * @ORM\\JoinColumn(nullable=false)\r\n     */\r\n    private $utilisateur;\r\n\r\n    /**\r\n     * @ORM\\OneToOne(targetEntity=Livraison::class, mappedBy=\"commande\", cascade={\"persist\", \"remove\"})\r\n     */\r\n    private $livraison;\r\n\r\n    /**\r\n     * @ORM\\ManyToMany(targetEntity=Plats::class, mappedBy=\"commande\")\r\n     */\r\n    private $plats;\r\n\r\n    public function __construct()\r\n    {\r\n        $this->plats = new ArrayCollection();\r\n    }\r\n\r\n    public function getId(): ?int\r\n    {\r\n        return $this->id;\r\n    }\r\n\r\n    public function getHeureCommande(): ?\\DateTimeInterface\r\n    {\r\n        return $this->heureCommande;\r\n    }\r\n\r\n    public function setHeureCommande(\\DateTimeInterface $heureCommande): self\r\n    {\r\n        $this->heureCommande = $heureCommande;\r\n\r\n        return $this;\r\n    }\r\n\r\n    public function getStatus(): ?string\r\n    {\r\n        return $this->status;\r\n    }\r\n\r\n    public function setStatus(string $status): self\r\n    {\r\n        $this->status = $status;\r\n\r\n        return $this;\r\n    }\r\n\r\n    public function getTotalPrice(): ?float\r\n    {\r\n        return $this->totalPrice;\r\n    }\r\n\r\n    public function setTotalPrice(float $totalPrice): self\r\n    {\r\n        $this->totalPrice = $totalPrice;\r\n\r\n        return $this;\r\n    }\r\n\r\n    public function getRestaurant(): ?Restaurant\r\n    {\r\n        return $this->restaurant;\r\n    }\r\n\r\n    public function setRestaurant(?Restaurant $restaurant): self\r\n    {\r\n        $this->restaurant = $restaurant;\r\n\r\n        return $this;\r\n    }\r\n\r\n    public function getUtilisateur(): ?User\r\n    {\r\n        return $this->utilisateur;\r\n    }\r\n\r\n    public function setUtilisateur(?User $utilisateur): self\r\n    {\r\n        $this->utilisateur = $utilisateur;\r\n\r\n        return $this;\r\n    }\r\n\r\n    public function getLivraison(): ?Livraison\r\n    {\r\n        return $this->livraison;\r\n    }\r\n\r\n    public function setLivraison(Livraison $livraison): self\r\n    {\r\n        // set the owning side of the relation if necessary\r\n        if ($livraison->getCommande() !== $this) {\r\n            $livraison->setCommande($this);\r\n        }\r\n\r\n        $this->livraison = $livraison;\r\n\r\n        return $this;\r\n    }\r\n\r\n    /**\r\n     * @return Collection|Plats[]\r\n     */\r\n    public function getPlats(): Collection\r\n    {\r\n        return $this->plats;\r\n    }\r\n\r\n    public function addPlat(Plats $plat): self\r\n    {\r\n        if (!$this->plats->contains($plat)) {\r\n            $this->plats[] = $plat;\r\n            $plat->addCommande($this);\r\n        }\r\n\r\n        return $this;\r\n    }\r\n\r\n    public function removePlat(Plats $plat): self\r\n    {\r\n        if ($this->plats->removeElement($plat)) {\r\n            $plat->removeCommande($this);\r\n        }\r\n\r\n        return $this;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/Entity/Commande.php b/src/Entity/Commande.php
--- a/src/Entity/Commande.php	(revision d15fbfa0b4a5f57f09e466b98b363d37faa17166)
+++ b/src/Entity/Commande.php	(date 1614705442046)
@@ -174,4 +174,5 @@
 
         return $this;
     }
+
 }
Index: templates/accueil_restaurant/index.html.twig
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>{% extends 'base.html.twig' %}\r\n\r\n{% block title %}Hello AccueilRestaurantController!{% endblock %}\r\n\r\n{% block body %}\r\n<style>\r\n    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }\r\n    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }\r\n</style>\r\n\r\n<div class=\"example-wrapper\">\r\n    <h1>Hello {{ controller_name }}! ✅</h1>\r\n\r\n    This friendly message is coming from:\r\n    <ul>\r\n        <li>Your controller at <code><a href=\"{{ 'C:/Users/33667/Desktop/projet/projet-mars-2021/src/Controller/AccueilRestaurantController.php'|file_link(0) }}\">src/Controller/AccueilRestaurantController.php</a></code></li>\r\n        <li>Your template at <code><a href=\"{{ 'C:/Users/33667/Desktop/projet/projet-mars-2021/templates/accueil_restaurant/index.html.twig'|file_link(0) }}\">templates/accueil_restaurant/index.html.twig</a></code></li>\r\n    </ul>\r\n</div>\r\n{% endblock %}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/templates/accueil_restaurant/index.html.twig b/templates/accueil_restaurant/index.html.twig
--- a/templates/accueil_restaurant/index.html.twig	(revision d15fbfa0b4a5f57f09e466b98b363d37faa17166)
+++ b/templates/accueil_restaurant/index.html.twig	(date 1614712529096)
@@ -7,14 +7,19 @@
     .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
     .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
 </style>
+</br>
+    <div class="card text-center">
+      <div class="card-header">
+        Nom du restaurant
+      </div>
+      <div class="card-body">
+        <h5 class="card-title"></h5>
 
-<div class="example-wrapper">
-    <h1>Hello {{ controller_name }}! ✅</h1>
-
-    This friendly message is coming from:
-    <ul>
-        <li>Your controller at <code><a href="{{ 'C:/Users/33667/Desktop/projet/projet-mars-2021/src/Controller/AccueilRestaurantController.php'|file_link(0) }}">src/Controller/AccueilRestaurantController.php</a></code></li>
-        <li>Your template at <code><a href="{{ 'C:/Users/33667/Desktop/projet/projet-mars-2021/templates/accueil_restaurant/index.html.twig'|file_link(0) }}">templates/accueil_restaurant/index.html.twig</a></code></li>
-    </ul>
-</div>
+        <p class="card-text">Text description</p>
+        <a href="#" class="btn btn-primary">Go somewhere</a>
+      </div>
+      <div class="card-footer text-muted">
+        okok
+      </div>
+    </div>
 {% endblock %}
\ No newline at end of file
Index: templates/base.html.twig
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>{% block title %}Welcome!{% endblock %}</title>\r\n    {{ encore_entry_link_tags('app') }}\r\n    {{ encore_entry_link_tags('accueil') }}\r\n    {% block stylesheets %}\r\n\r\n    {% endblock %}\r\n</head>\r\n<body>\r\n<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n    <a class=\"navbar-brand\" href=\"{{ path('main') }}\">Gastron'Home</a>\r\n    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\"\r\n            aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n    </button>\r\n\r\n    <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n        <ul class=\"navbar-nav mr-auto\">\r\n            <li class=\"nav-item\">\r\n                <a class=\"nav-link\" href=\"{{ path('main') }}\">Page d'accueil</a>\r\n            </li>\r\n            {% if is_granted('ROLE_SUPER_ADMIN') %}\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"{{ path('categorie_plats_index') }}\">Gérer les catégories de plats</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"{{ path('categorie_restaurant_index') }}\">Gérer les catégories de restaurants</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"{{ path('secteur_index') }}\">Gérer les secteurs</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"{{ path('ville_index') }}\">Gérer les villes</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Votre Profil</a>\r\n                </li>\r\n            {% endif %}\r\n            {% if is_granted('ROLE_CLIENT') %}\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"{{ path('client') }}\">Client</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Passer une commande</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Votre Profil</a>\r\n                </li>\r\n            {% endif %}\r\n            {% if is_granted('ROLE_LIVREUR') %}\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"{{ path('livreur') }}\">Livreur</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Voir livraison</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Historique livraison</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Votre Profil</a>\r\n                </li>\r\n            {% endif %}\r\n            {% if is_granted('ROLE_RESTO') %}\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"{{ path('restaurant') }}\">Restaurateur</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Commandes en attentes</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Historique commandes</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"{{ path('plats_index') }}\">Gérer vos plats</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"nav-link\" href=\"#\">Votre Profil</a>\r\n                </li>\r\n            {% endif %}\r\n        </ul>\r\n        <ul class=\"navbar-nav ml-auto\">\r\n            {% if app.user %}\r\n                <li class=\"nav-item\">\r\n                    <a class=\"btn btn-danger\" href=\"{{ path('app_logout') }}\">Se Deconnecter</a>\r\n                </li>\r\n\r\n            {% else %}\r\n                <li class=\"nav-item\">\r\n                    <a class=\"btn btn-primary mr-1\" href=\"{{ path('app_login') }}\">Se Connecter</a>\r\n                </li>\r\n                <li class=\"nav-item\">\r\n                    <a class=\"btn btn-success\" href=\"{{ path('app_register') }}\">S'Inscrire</a>\r\n                </li>\r\n            {% endif %}\r\n        </ul>\r\n    </div>\r\n\r\n</nav>\r\n\r\n{% block body %}{% endblock %}\r\n</body>\r\n{% block javascripts %}{% endblock %}\r\n{{ encore_entry_script_tags('app') }}\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/templates/base.html.twig b/templates/base.html.twig
--- a/templates/base.html.twig	(revision d15fbfa0b4a5f57f09e466b98b363d37faa17166)
+++ b/templates/base.html.twig	(date 1614705442057)
@@ -6,7 +6,6 @@
     {{ encore_entry_link_tags('app') }}
     {{ encore_entry_link_tags('accueil') }}
     {% block stylesheets %}
-
     {% endblock %}
 </head>
 <body>
